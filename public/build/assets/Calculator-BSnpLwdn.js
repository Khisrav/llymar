import{d as K,r as I,a as v,o as g,c as $,w as p,n as X,g as W,u as e,b as j,e as S,f as n,m as E,h as s,i as Z,j as ie,k as ce,l as y,t as x,p as Y,F as M,q as D,s as J,v as ue,Q as T,Z as pe}from"./app-8F-lrkrS.js";import{x as ee,k as me,I as N,X as fe,c as C,M as he,K as ge,j as _e,z as xe,q as ye,G as ve,Y as be,U as we,F as ke,V as $e,_ as z}from"./Button.vue_vue_type_script_setup_true_lang-htOjkNoX.js";import{c as b,_ as Le,a as Ve,b as Ie,d as ze,e as je,f as G,g as Me}from"./AuthenticatedHeaderLayout.vue_vue_type_script_setup_true_lang-D1iI7XOJ.js";import{_ as H}from"./Input.vue_vue_type_script_setup_true_lang-LC0uCHgy.js";/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=b("ArrowRightIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=b("CheckIcon",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=b("ChevronDownIcon",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=b("ChevronUpIcon",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=b("CirclePlusIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=b("EllipsisVerticalIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=b("EyeOffIcon",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=b("EyeIcon",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=b("MinusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=b("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=b("PrinterIcon",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=b("ScrollTextIcon",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=b("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),le=K("openingStore",()=>{const c={left:"Левый проем",right:"Правый проем",center:"Центральный проем","inner-left":"Входная группа левая","inner-right":"Входная группа правая"},t={left:"https://llymar.ru/assets/openings-left.jpg",right:"https://llymar.ru/assets/openings-right.jpg",center:"https://llymar.ru/assets/openings-center.jpg","inner-left":"https://llymar.ru/assets/openings-inner-left.jpg","inner-right":"https://llymar.ru/assets/openings-inner-right.jpg","blind-glazing":"https://llymar.ru/assets/openings-blind-glazing.jpg",triangle:"https://llymar.ru/assets/openings-triangle.jpg"},d=I([{doors:2,width:3e3,height:2700,type:"left"}]);return{openingTypes:c,opening_images:t,openings:d,addOpening:()=>{d.value.push({doors:2,width:3e3,height:2700,type:"left"})},removeOpening:r=>{d.value.splice(r,1)}}}),ne=v({__name:"Select",props:{open:{type:Boolean},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{},dir:{},name:{},autocomplete:{},disabled:{type:Boolean},required:{type:Boolean}},emits:["update:modelValue","update:open"],setup(c,{emit:t}){const l=ee(c,t);return(r,u)=>(g(),$(e(me),X(W(e(l))),{default:p(()=>[j(r.$slots,"default")]),_:3},16))}}),Ne=v({__name:"SelectTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(c){const t=c,d=S(()=>{const{class:l,...r}=t;return r}),o=N(d);return(l,r)=>(g(),$(e(he),E(e(o),{class:e(C)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:truncate text-start",t.class)}),{default:p(()=>[j(l.$slots,"default"),n(e(fe),{"as-child":""},{default:p(()=>[n(e(te),{class:"w-4 h-4 opacity-50 shrink-0"})]),_:1})]),_:3},16,["class"]))}}),Re={class:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center"},Ae=v({__name:"SelectItem",props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},setup(c){const t=c,d=S(()=>{const{class:l,...r}=t;return r}),o=N(d);return(l,r)=>(g(),$(e(xe),E(e(o),{class:e(C)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t.class)}),{default:p(()=>[s("span",Re,[n(e(ge),null,{default:p(()=>[n(e(Se),{class:"h-4 w-4"})]),_:1})]),n(e(_e),null,{default:p(()=>[j(l.$slots,"default")]),_:3})]),_:3},16,["class"]))}}),He=v({__name:"SelectScrollDownButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(c){const t=c,d=S(()=>{const{class:l,...r}=t;return r}),o=N(d);return(l,r)=>(g(),$(e(ye),E(e(o),{class:e(C)("flex cursor-default items-center justify-center py-1",t.class)}),{default:p(()=>[j(l.$slots,"default",{},()=>[n(e(te),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),Qe=v({__name:"SelectScrollUpButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(c){const t=c,d=S(()=>{const{class:l,...r}=t;return r}),o=N(d);return(l,r)=>(g(),$(e(ve),E(e(o),{class:e(C)("flex cursor-default items-center justify-center py-1",t.class)}),{default:p(()=>[j(l.$slots,"default",{},()=>[n(e(Be),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),Ye=v({__name:"SelectValue",props:{placeholder:{},asChild:{type:Boolean},as:{}},setup(c){const t=c;return(d,o)=>(g(),$(e(be),X(W(t)),{default:p(()=>[j(d.$slots,"default")]),_:3},16))}}),Ge=v({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean},position:{default:"popper"},bodyLock:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(c,{emit:t}){const d=c,o=t,l=S(()=>{const{class:u,...m}=d;return m}),r=ee(l,o);return(u,m)=>(g(),$(e($e),null,{default:p(()=>[n(e(ke),E({...e(r),...u.$attrs},{class:e(C)("relative z-50 max-h-96 min-w-32 overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",u.position==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",d.class)}),{default:p(()=>[n(e(Qe)),n(e(we),{class:Z(e(C)("p-1",u.position==="popper"&&"h-[--radix-select-trigger-height] w-full min-w-[--radix-select-trigger-width]"))},{default:p(()=>[j(u.$slots,"default")]),_:3},8,["class"]),n(e(He))]),_:3},16,["class"])]),_:3}))}}),F=c=>{switch(c){case"left":case"right":return{min:2,max:8,step:1};case"center":return{min:4,max:10,step:2};case"inner-left":case"inner-right":return{min:3,max:3,step:1};default:return{min:1,max:1/0,step:1}}},Ke={class:"flex items-center justify-between gap-2 rounded-md"},ae=v({__name:"QuantitySelector",props:ie({min:{},max:{},step:{}},{modelValue:{default:0},modelModifiers:{}}),emits:["update:modelValue"],setup(c){const t=c,d=ce(c,"modelValue"),o=()=>{d.value<t.max&&(d.value+=t.step)},l=()=>{d.value>t.min&&(d.value-=t.step)};return(r,u)=>(g(),y("div",Ke,[n(z,{variant:"outline",disabled:d.value<=t.min,class:"rounded-full",size:"icon",onClick:l},{default:p(()=>[n(e(Ee))]),_:1},8,["disabled"]),n(H,{modelValue:d.value,"onUpdate:modelValue":u[0]||(u[0]=m=>d.value=m),class:"hidden",type:"number"},null,8,["modelValue"]),s("span",null,x(d.value)+" шт.",1),n(z,{variant:"outline",disabled:d.value>=t.max,class:"rounded-full",size:"icon",onClick:o},{default:p(()=>[n(e(Oe))]),_:1},8,["disabled"])]))}}),O=K("itemsStore",()=>{const c=le(),t=I([]),d=I([]),o=I([]),l=I(""),r=I({}),u=["left","right"],m=["inner-left","inner-right"],w=["center"],R=()=>{[...t.value,...d.value].forEach(_=>{r.value[_.id]={quantity:0}})},L=k=>{var h;const _=t.value.find(V=>V.vendor_code===k);return((h=r.value[_==null?void 0:_.id])==null?void 0:h.quantity)||0},Q=(k,_,h)=>{var i,a;return((a=(i={left:{L1:{2:0,3:1,4:0,5:1,6:2,7:1,8:2},L3:{2:1,3:0,4:2,5:1,6:0,7:2,8:1}},right:{L1:{2:0,3:1,4:0,5:1,6:2,7:1,8:2},L3:{2:1,3:0,4:2,5:1,6:0,7:2,8:1}},center:{L1:{4:0,6:1,8:0,10:1},L3:{4:1,6:0,8:2,10:1}},"inner-left":{L1:{3:0},L3:{3:1}},"inner-right":{L1:{3:0},L3:{3:1}}}[h])==null?void 0:i[k])==null?void 0:a[_])??0},oe=k=>{const{vendor_code:_}=k,h=c.openings,V={L1:()=>h.reduce((i,{type:a,width:f,doors:A})=>{let B,P,U;return B=Math.floor(f/1e3/3)*3,P=Q(_,A,a),U=f%3?3:0,i+B*P+U},0),L2:()=>L("L1"),L3:()=>h.reduce((i,{type:a,width:f,doors:A})=>{let B,P,U;return B=Math.floor(f/1e3/3)*3,P=Q(_,A,a),U=f%3?3:0,i+B*P+U},0),L4:()=>L("L3"),L5:()=>Math.ceil((h.reduce((i,{width:a})=>i+a-1800,0)-1800)/1e3)+3,L6:()=>h.length*6,L8:()=>h.reduce((i,{type:a,doors:f})=>u.includes(a)?i+(f*2-2):w.includes(a)?i+(f*2-4):m.includes(a)?i+2:i,0),L9:()=>h.reduce((i,{type:a})=>i+([...w,...m].includes(a)?1:0),0),L12:()=>L("L9")*9+L("L2")*6+L("L4")*4,L13:()=>L("L8")*3+L("L5")*2,L14:()=>L("L6")*2,L15:()=>h.reduce((i,{type:a,doors:f})=>i+(a==="right"?f-1:0)+(w.includes(a)?f/2-1:0)+(a==="inner-right"?1:0),0),L16:()=>h.reduce((i,{type:a,doors:f})=>i+(w.includes(a)?f/2:0)+(a==="left"?1:0)+(a==="right"?f:0)+(a==="inner-left"?1:0)+(a==="inner-right"?2:0),0),L17:()=>h.reduce((i,{type:a})=>i+([...w,...m].includes(a)?1:0),0),L18:()=>h.reduce((i,{type:a,doors:f})=>i+(a==="left"?f-1:0)+(w.includes(a)?f/2-1:0)+(a==="inner-left"?1:0),0),L19:()=>h.reduce((i,{type:a,doors:f})=>i+(a==="left"?f:0)+(a==="right"?1:0)+(a==="center"?f/2:0)+(a==="inner-left"?2:0)+(a==="inner-right"?1:0),0),L20:()=>h.reduce((i,{type:a})=>i+(a==="center"?1:0)+(m.includes(a)?1:0),0),L21:()=>h.reduce((i,{type:a,doors:f})=>i+(a==="center"?f-2:0)+(u.includes(a)?f-1:0)+(m.includes(a)?1:0),0),L22:()=>h.reduce((i,{type:a,doors:f})=>i+(a==="center"?f-4:0)+(u.includes(a)?f-2:0),0),L26:()=>h.reduce((i,{doors:a})=>i+a*2,0)};return V[_]?V[_]():0},re=()=>{t.value.forEach(k=>{const _=oe(k);r.value[k.id]={quantity:_}})},de=S(()=>{let k=0;return[...t.value,...d.value].forEach(h=>{var i;const V=((i=r.value[h.id])==null?void 0:i.quantity)||0;V>0&&(k+=h.retail_price*V)}),k});return{items:t,glasses:o,additional_items:d,base_url:l,cartItems:r,total_price:de,calculate:re,initiateCartItems:R}}),Xe={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2 md:gap-4"},We={class:"flex justify-between items-center gap-2"},Ze={class:"flex-1 overflow-hidden"},Je={class:"grid grid-cols-1 md:grid-cols-1 gap-2"},et={class:"flex items-center"},tt=["src"],st={class:"flex items-center gap-2"},lt={class:"gap-2 mt-2"},nt={class:"text-center flex flex-col items-center gap-2 p-6"},at=v({__name:"Openings",setup(c){const t=le(),d=O();return Y(()=>t.openings,o=>{o.forEach(l=>{Y(()=>l.type,(r,u)=>{const{min:m,max:w,step:R}=F(r);l.doors<m||l.doors%R?l.doors=m:l.doors>w&&(l.doors=w)},{immediate:!0})}),d.calculate()},{deep:!0}),(o,l)=>(g(),y("div",null,[l[5]||(l[5]=s("h2",{class:"text-xl font-bold text-muted-foreground mb-4"},"Проемы",-1)),s("div",Xe,[(g(!0),y(M,null,D(e(t).openings,(r,u)=>(g(),y("div",{key:u,class:"bg-white dark:bg-slate-900 p-2 md:p-4 border rounded-xl hover:shadow-2xl hover:shadow-slate-100 dark:hover:shadow-slate-800 transition-all hover:z-10"},[s("div",We,[s("div",Ze,[n(ne,{modelValue:e(t).openings[u].type,"onUpdate:modelValue":m=>e(t).openings[u].type=m,class:"h-9 block text-sm"},{default:p(()=>[n(Ne,{class:"h-9 shadow-sm text-sm"},{default:p(()=>[n(Ye,{placeholder:"Выберите проем",class:"text-sm"})]),_:1}),n(Ge,null,{default:p(()=>[(g(!0),y(M,null,D(e(t).openingTypes,(m,w)=>(g(),$(Ae,{key:w,value:w,class:"text-sm"},{default:p(()=>[J(x(m),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),n(z,{variant:"outline",size:"icon",onClick:m=>e(t).removeOpening(u),class:"shrink-0"},{default:p(()=>[n(e(De),{class:"size-4"})]),_:2},1032,["onClick"])]),s("div",Je,[s("div",et,[s("img",{src:e(t).opening_images[r.type],class:"w-full rounded-md mt-2 md:mt-4"},null,8,tt)]),s("div",null,[l[3]||(l[3]=s("label",{class:"text-center my-1 text-muted-foreground text-xs md:text-sm block"},"Размеры (ШxВ) в мм:",-1)),s("div",st,[n(H,{modelValue:e(t).openings[u].width,"onUpdate:modelValue":m=>e(t).openings[u].width=m,type:"number",max:"12800",placeholder:"Ширина",class:"h-9 text-center"},null,8,["modelValue","onUpdate:modelValue"]),l[1]||(l[1]=s("span",{class:"inline-block text-sm"},"✕",-1)),n(H,{modelValue:e(t).openings[u].height,"onUpdate:modelValue":m=>e(t).openings[u].height=m,type:"number",placeholder:"Высота",class:"h-9 text-center"},null,8,["modelValue","onUpdate:modelValue"])]),s("div",lt,[l[2]||(l[2]=s("label",{class:"text-center mb-1 text-muted-foreground text-xs md:text-sm block"},"Кол-во створок:",-1)),n(ae,{modelValue:r.doors,"onUpdate:modelValue":m=>r.doors=m,min:e(F)(e(t).openings[u].type).min,max:e(F)(e(t).openings[u].type).max,step:e(F)(e(t).openings[u].type).step},null,8,["modelValue","onUpdate:modelValue","min","max","step"])])])])]))),128)),s("button",{class:"p-2 md:p-4 border-4 border-dashed rounded-xl text-center flex items-center justify-center hover:border-black hover:dark:border-white transition-all text-gray-300 dark:text-gray-600 font-bold text-xl hover:text-black hover:dark:text-white",onClick:l[0]||(l[0]=(...r)=>e(t).addOpening&&e(t).addOpening(...r))},[s("div",nt,[n(e(Pe),{class:"size-12"}),l[4]||(l[4]=s("span",{class:"block"},"Добавить проем",-1))])])])]))}}),q=c=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0,maximumFractionDigits:0}).format(c),ot={class:"border p-2 md:p-4 rounded-2xl"},rt={class:"flex items-center"},dt={class:"text-center font-bold text-lg text-primary font-mono"},it=["src"],ct={class:"text-center text-sm sm:text-base py-2"},ut={class:"flex items-center justify-between"},pt={class:"flex flex-col items-center justify-between text-xs sm:text-xs"},mt={class:"font-bold text-muted-foreground text-sm"},ft={class:"flex flex-col items-center justify-between text-xs sm:text-xs"},ht={class:"font-bold text-muted-foreground text-sm"},gt={class:"text-center pt-2"},_t={class:"font-bold"},xt=v({__name:"Items",setup(c){const t=O(),d=I(!1);return(o,l)=>(g(),y("div",ot,[s("div",rt,[l[1]||(l[1]=s("h2",{class:"text-xl font-bold text-muted-foreground"},"Авторасчет",-1)),n(z,{variant:"outline",size:"icon",class:"ml-auto rounded-lg",onClick:l[0]||(l[0]=r=>d.value=!d.value)},{default:p(()=>[d.value?(g(),$(e(se),{key:1,class:"size-6"})):(g(),$(e(qe),{key:0,class:"size-6"}))]),_:1})]),s("div",{class:Z([d.value?"hidden":"","grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2 md:gap-4 mt-4 transition-all duration-1000"])},[(g(!0),y(M,null,D(e(t).items,r=>{var u,m;return g(),y("div",{key:r.id,class:"flex flex-col justify-between gap-2 bg-white dark:bg-slate-900 p-2 md:p-4 border rounded-xl hover:shadow-2xl hover:shadow-slate-100 dark:hover:shadow-slate-800 transition-all hover:z-10"},[s("div",dt,x(r.vendor_code),1),s("div",null,[s("img",{src:e(t).base_url+r.img,class:"rounded-md w-full"},null,8,it)]),s("div",null,[s("div",ct,[s("span",null,x(r.name),1)]),s("div",ut,[s("div",pt,[l[2]||(l[2]=s("span",{class:"text-muted-foreground"},"Цена:",-1)),s("span",mt,x(e(q)(r.retail_price))+"/"+x(r.unit),1)]),s("div",ft,[l[3]||(l[3]=s("span",{class:"text-muted-foreground"},"Кол-во:",-1)),s("span",ht,x(((u=e(t).cartItems[r.id])==null?void 0:u.quantity)??0)+" "+x(r.unit),1)])]),s("div",gt,[s("span",_t,x(e(q)((((m=e(t).cartItems[r.id])==null?void 0:m.quantity)??0)*r.retail_price)),1)])])])}),128))],2)]))}}),yt={class:"border p-2 md:p-4 rounded-2xl"},vt={class:"flex items-center"},bt={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-2 md:gap-4 mt-4 transition-all duration-1000"},wt={class:"flex flex-col justify-between p-2 md:p-4 bg-white dark:bg-slate-900 border rounded-xl hover:shadow-2xl hover:shadow-slate-100 dark:hover:shadow-slate-800 transition-all hover:z-10"},kt={class:"font-medium mb-2 md:mb-4"},$t={class:"flex flex-row gap-2 md:gap-4"},Lt={class:"basis-1/3"},Vt=["src"],It={class:"basis-2/3 flex flex-col justify-between gap-2"},zt={class:"flex justify-between items-center text-sm text-muted-foreground"},jt={class:"font-bold text-primary"},Mt={class:"flex justify-between items-center text-sm text-muted-foreground"},Ct={class:"font-bold text-primary"},St=v({__name:"Additionals",setup(c){const t=O();return I(t.cartItems),(d,o)=>(g(),y("div",yt,[s("div",vt,[o[1]||(o[1]=s("h2",{class:"text-xl font-bold text-muted-foreground"},"Доп. детали",-1)),n(z,{variant:"outline",size:"icon",class:"ml-auto rounded-lg",onClick:o[0]||(o[0]=()=>{})},{default:p(()=>[n(e(se),{class:"size-6"})]),_:1})]),s("div",bt,[s("div",wt,[n(ne),o[2]||(o[2]=ue('<div class="flex flex-row gap-2 md:gap-4"><div class="basis-1/3"></div><div class="basis-2/3 flex flex-col justify-between gap-2"><div class="flex justify-between items-center text-sm text-muted-foreground"><span>Цена:</span></div><div class="flex justify-between items-center text-sm text-muted-foreground"><span>Итого:</span></div></div></div>',1))]),(g(!0),y(M,null,D(e(t).additional_items,l=>(g(),y("div",{key:l.vendor_code,class:"flex flex-col justify-between p-2 md:p-4 bg-white dark:bg-slate-900 border rounded-xl hover:shadow-2xl hover:shadow-slate-100 dark:hover:shadow-slate-800 transition-all hover:z-10"},[s("p",kt,[s("span",null,x(l.vendor_code?l.vendor_code+" - ":"")+" "+x(l.name),1)]),s("div",$t,[s("div",Lt,[s("img",{src:l.img,class:"rounded-md w-full"},null,8,Vt)]),s("div",It,[s("div",zt,[o[3]||(o[3]=s("span",null,"Цена:",-1)),s("span",jt,x(e(q)(l.retail_price))+"/"+x(l.unit),1)]),s("div",Mt,[o[4]||(o[4]=s("span",null,"Итого:",-1)),s("span",Ct,x(e(q)(l.retail_price*e(t).cartItems[l.id].quantity)),1)]),n(ae,{min:0,max:100,step:1,modelValue:e(t).cartItems[l.id].quantity,"onUpdate:modelValue":r=>e(t).cartItems[l.id].quantity=r},null,8,["modelValue","onUpdate:modelValue"])])])]))),128))])]))}}),Bt={class:"z-20 fixed bottom-0 sm:bottom-2 left-1/2 w-full max-w-96 transform -translate-x-1/2 bg-white dark:bg-slate-900 p-2 px-4 sm:p-4 border sm:rounded-xl md:rounded-2xl shadow-sm"},Pt={class:"flex items-center justify-between"},Ut={class:"font-bold text-xl text-primary"},qt={class:"flex gap-2 md:gap-4 items-center"},Et=v({__name:"OrderActions",setup(c){const t=O();return(d,o)=>(g(),y(M,null,[o[5]||(o[5]=s("div",{class:"h-6 md:h-10"},null,-1)),s("div",Bt,[s("div",Pt,[s("span",Ut,x(e(q)(e(t).total_price)),1),s("div",qt,[n(Le,null,{default:p(()=>[n(Ve,null,{default:p(()=>[n(z,{variant:"outline",size:"icon"},{default:p(()=>[n(e(Ue))]),_:1})]),_:1}),n(Ie,null,{default:p(()=>[n(ze,null,{default:p(()=>o[1]||(o[1]=[J("Действия")])),_:1}),n(je),n(G,{onClick:o[0]||(o[0]=l=>console.log("clicked"))},{default:p(()=>[n(e(Te),{class:"size-4"}),o[2]||(o[2]=s("span",null,"Печать КП",-1))]),_:1}),n(G,null,{default:p(()=>[n(e(Fe),{class:"size-4"}),o[3]||(o[3]=s("span",null,"Перечень",-1))]),_:1})]),_:1})]),_:1}),n(z,null,{default:p(()=>[o[4]||(o[4]=s("span",{class:"text-base"},"Заказать",-1)),n(e(Ce),{class:"size-4"})]),_:1})])])])],64))}}),Ot={class:"container p-4 rounded-xl"},Tt={class:""},At=v({__name:"Calculator",setup(c){const t=O();return t.items=T().props.items,t.base_url=T().props.base_url,t.additional_items=T().props.additional_items,t.glasses=T().props.glasses,t.initiateCartItems(),t.calculate(),(d,o)=>(g(),y(M,null,[n(e(pe),{title:"Калькулятор"}),n(Me),s("div",Ot,[o[0]||(o[0]=s("h1",{class:"text-2xl font-bold"},"Калькулятор",-1)),s("div",Tt,[n(at,{class:"mb-8"}),n(St,{class:"mb-8"}),n(xt,{class:"mb-8"})])]),n(Et)],64))}});export{At as default};
