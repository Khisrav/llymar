import{d as X,r as L,a as v,o as g,c as $,w as c,n as W,g as Z,u as t,b as M,e as B,f as n,m as O,h as e,i as J,j as pe,k as me,l as y,t as _,p as Y,F as z,q as E,s as G,Q as F,Z as fe}from"./app-BgG9SbCT.js";import{x as ee,k as ge,I as R,X as he,c as S,M as _e,K as xe,j as ye,z as ve,q as be,G as we,Y as ke,U as $e,F as Le,V as Ve,_ as j}from"./Button.vue_vue_type_script_setup_true_lang-CB3kA2Cp.js";import{c as b,X as Ie,_ as ze,a as je,b as Me,d as Ce,e as Se,f as K,g as Be}from"./AuthenticatedHeaderLayout.vue_vue_type_script_setup_true_lang-BeidtJxJ.js";import{_ as H}from"./Input.vue_vue_type_script_setup_true_lang-jECfJnGX.js";/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=b("ArrowRightIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=b("CheckIcon",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=b("ChevronDownIcon",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=b("ChevronUpIcon",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=b("CirclePlusIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=b("EllipsisVerticalIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=b("EyeOffIcon",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=b("EyeIcon",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=b("MinusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=b("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=b("PrinterIcon",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=b("ScrollTextIcon",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=b("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),se=X("openingStore",()=>{const p={left:"Левый проем",right:"Правый проем",center:"Центральный проем","inner-left":"Входная группа левая","inner-right":"Входная группа правая"},s={left:"https://llymar.ru/assets/openings-left.jpg",right:"https://llymar.ru/assets/openings-right.jpg",center:"https://llymar.ru/assets/openings-center.jpg","inner-left":"https://llymar.ru/assets/openings-inner-left.jpg","inner-right":"https://llymar.ru/assets/openings-inner-right.jpg","blind-glazing":"https://llymar.ru/assets/openings-blind-glazing.jpg",triangle:"https://llymar.ru/assets/openings-triangle.jpg"},r=L([{doors:2,width:3e3,height:2700,type:"left"}]);return{openingTypes:p,opening_images:s,openings:r,addOpening:()=>{r.value.push({doors:2,width:3e3,height:2700,type:"left"})},removeOpening:a=>{r.value.splice(a,1)}}}),le=v({__name:"Select",props:{open:{type:Boolean},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{},dir:{},name:{},autocomplete:{},disabled:{type:Boolean},required:{type:Boolean}},emits:["update:modelValue","update:open"],setup(p,{emit:s}){const l=ee(p,s);return(a,u)=>(g(),$(t(ge),W(Z(t(l))),{default:c(()=>[M(a.$slots,"default")]),_:3},16))}}),ae=v({__name:"SelectTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(p){const s=p,r=B(()=>{const{class:l,...a}=s;return a}),d=R(r);return(l,a)=>(g(),$(t(_e),O(t(d),{class:t(S)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:truncate text-start",s.class)}),{default:c(()=>[M(l.$slots,"default"),n(t(he),{"as-child":""},{default:c(()=>[n(t(te),{class:"w-4 h-4 opacity-50 shrink-0"})]),_:1})]),_:3},16,["class"]))}}),Ge={class:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center"},ne=v({__name:"SelectItem",props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},setup(p){const s=p,r=B(()=>{const{class:l,...a}=s;return a}),d=R(r);return(l,a)=>(g(),$(t(ve),O(t(d),{class:t(S)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s.class)}),{default:c(()=>[e("span",Ge,[n(t(xe),null,{default:c(()=>[n(t(Ue),{class:"h-4 w-4"})]),_:1})]),n(t(ye),null,{default:c(()=>[M(l.$slots,"default")]),_:3})]),_:3},16,["class"]))}}),Qe=v({__name:"SelectScrollDownButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(p){const s=p,r=B(()=>{const{class:l,...a}=s;return a}),d=R(r);return(l,a)=>(g(),$(t(be),O(t(d),{class:t(S)("flex cursor-default items-center justify-center py-1",s.class)}),{default:c(()=>[M(l.$slots,"default",{},()=>[n(t(te),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),Ye=v({__name:"SelectScrollUpButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(p){const s=p,r=B(()=>{const{class:l,...a}=s;return a}),d=R(r);return(l,a)=>(g(),$(t(we),O(t(d),{class:t(S)("flex cursor-default items-center justify-center py-1",s.class)}),{default:c(()=>[M(l.$slots,"default",{},()=>[n(t(qe),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),oe=v({__name:"SelectValue",props:{placeholder:{},asChild:{type:Boolean},as:{}},setup(p){const s=p;return(r,d)=>(g(),$(t(ke),W(Z(s)),{default:c(()=>[M(r.$slots,"default")]),_:3},16))}}),re=v({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean},position:{default:"popper"},bodyLock:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(p,{emit:s}){const r=p,d=s,l=B(()=>{const{class:u,...m}=r;return m}),a=ee(l,d);return(u,m)=>(g(),$(t(Ve),null,{default:c(()=>[n(t(Le),O({...t(a),...u.$attrs},{class:t(S)("relative z-50 max-h-96 min-w-32 overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",u.position==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r.class)}),{default:c(()=>[n(t(Ye)),n(t($e),{class:J(t(S)("p-1",u.position==="popper"&&"h-[--radix-select-trigger-height] w-full min-w-[--radix-select-trigger-width]"))},{default:c(()=>[M(u.$slots,"default")]),_:3},8,["class"]),n(t(Qe))]),_:3},16,["class"])]),_:3}))}}),D=p=>{switch(p){case"left":case"right":return{min:2,max:8,step:1};case"center":return{min:4,max:10,step:2};case"inner-left":case"inner-right":return{min:3,max:3,step:1};default:return{min:1,max:1/0,step:1}}},Ke={class:"flex items-center justify-between gap-2 rounded-md"},de=v({__name:"QuantitySelector",props:pe({min:{},max:{},step:{}},{modelValue:{default:0},modelModifiers:{}}),emits:["update:modelValue"],setup(p){const s=p,r=me(p,"modelValue"),d=()=>{r.value<s.max&&(r.value+=s.step)},l=()=>{r.value>s.min&&(r.value-=s.step)};return(a,u)=>(g(),y("div",Ke,[n(j,{variant:"outline",disabled:r.value<=s.min,class:"rounded-full",size:"icon",onClick:l},{default:c(()=>[n(t(De))]),_:1},8,["disabled"]),n(H,{modelValue:r.value,"onUpdate:modelValue":u[0]||(u[0]=m=>r.value=m),class:"hidden",type:"number"},null,8,["modelValue"]),e("span",null,_(r.value)+" шт.",1),n(j,{variant:"outline",disabled:r.value>=s.max,class:"rounded-full",size:"icon",onClick:d},{default:c(()=>[n(t(Re))]),_:1},8,["disabled"])]))}}),T=X("itemsStore",()=>{const p=se(),s=L([]),r=L([]),d=L([]),l=L(""),a=L({}),u=["left","right"],m=["inner-left","inner-right"],w=["center"],N=()=>{[...s.value,...r.value].forEach(x=>{a.value[x.id]={quantity:0}})},V=k=>{var h;const x=s.value.find(I=>I.vendor_code===k);return((h=a.value[x==null?void 0:x.id])==null?void 0:h.quantity)||0},Q=(k,x,h)=>{var i,o;return((o=(i={left:{L1:{2:0,3:1,4:0,5:1,6:2,7:1,8:2},L3:{2:1,3:0,4:2,5:1,6:0,7:2,8:1}},right:{L1:{2:0,3:1,4:0,5:1,6:2,7:1,8:2},L3:{2:1,3:0,4:2,5:1,6:0,7:2,8:1}},center:{L1:{4:0,6:1,8:0,10:1},L3:{4:1,6:0,8:2,10:1}},"inner-left":{L1:{3:0},L3:{3:1}},"inner-right":{L1:{3:0},L3:{3:1}}}[h])==null?void 0:i[k])==null?void 0:o[x])??0},ie=k=>{const{vendor_code:x}=k,h=p.openings,I={L1:()=>h.reduce((i,{type:o,width:f,doors:A})=>{let P,U,q;return P=Math.floor(f/1e3/3)*3,U=Q(x,A,o),q=f%3?3:0,i+P*U+q},0),L2:()=>V("L1"),L3:()=>h.reduce((i,{type:o,width:f,doors:A})=>{let P,U,q;return P=Math.floor(f/1e3/3)*3,U=Q(x,A,o),q=f%3?3:0,i+P*U+q},0),L4:()=>V("L3"),L5:()=>Math.ceil((h.reduce((i,{width:o})=>i+o-1800,0)-1800)/1e3)+3,L6:()=>h.length*6,L8:()=>h.reduce((i,{type:o,doors:f})=>u.includes(o)?i+(f*2-2):w.includes(o)?i+(f*2-4):m.includes(o)?i+2:i,0),L9:()=>h.reduce((i,{type:o})=>i+([...w,...m].includes(o)?1:0),0),L12:()=>V("L9")*9+V("L2")*6+V("L4")*4,L13:()=>V("L8")*3+V("L5")*2,L14:()=>V("L6")*2,L15:()=>h.reduce((i,{type:o,doors:f})=>i+(o==="right"?f-1:0)+(w.includes(o)?f/2-1:0)+(o==="inner-right"?1:0),0),L16:()=>h.reduce((i,{type:o,doors:f})=>i+(w.includes(o)?f/2:0)+(o==="left"?1:0)+(o==="right"?f:0)+(o==="inner-left"?1:0)+(o==="inner-right"?2:0),0),L17:()=>h.reduce((i,{type:o})=>i+([...w,...m].includes(o)?1:0),0),L18:()=>h.reduce((i,{type:o,doors:f})=>i+(o==="left"?f-1:0)+(w.includes(o)?f/2-1:0)+(o==="inner-left"?1:0),0),L19:()=>h.reduce((i,{type:o,doors:f})=>i+(o==="left"?f:0)+(o==="right"?1:0)+(o==="center"?f/2:0)+(o==="inner-left"?2:0)+(o==="inner-right"?1:0),0),L20:()=>h.reduce((i,{type:o})=>i+(o==="center"?1:0)+(m.includes(o)?1:0),0),L21:()=>h.reduce((i,{type:o,doors:f})=>i+(o==="center"?f-2:0)+(u.includes(o)?f-1:0)+(m.includes(o)?1:0),0),L22:()=>h.reduce((i,{type:o,doors:f})=>i+(o==="center"?f-4:0)+(u.includes(o)?f-2:0),0),L26:()=>h.reduce((i,{doors:o})=>i+o*2,0)};return I[x]?I[x]():0},ce=()=>{s.value.forEach(k=>{const x=ie(k);a.value[k.id]={quantity:x}})},ue=B(()=>{let k=0;return[...s.value,...r.value].forEach(h=>{var i;const I=((i=a.value[h.id])==null?void 0:i.quantity)||0;I>0&&(k+=h.retail_price*I)}),k});return{items:s,glasses:d,additional_items:r,base_url:l,cartItems:a,total_price:ue,calculate:ce,initiateCartItems:N}}),Xe={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2 md:gap-4"},We={class:"flex justify-between items-center gap-2"},Ze={class:"flex-1 overflow-hidden"},Je={class:"grid grid-cols-1 md:grid-cols-1 gap-2"},et={class:"flex items-center"},tt=["src"],st={class:"flex items-center gap-2"},lt={class:"gap-2 mt-2"},at={class:"text-center flex flex-col items-center gap-2 p-6"},nt=v({__name:"Openings",setup(p){const s=se(),r=T();return Y(()=>s.openings,d=>{d.forEach(l=>{Y(()=>l.type,(a,u)=>{const{min:m,max:w,step:N}=D(a);l.doors<m||l.doors%N?l.doors=m:l.doors>w&&(l.doors=w)},{immediate:!0})}),r.calculate()},{deep:!0}),(d,l)=>(g(),y("div",null,[l[5]||(l[5]=e("h2",{class:"text-xl font-bold text-muted-foreground mb-4"},"Проемы",-1)),e("div",Xe,[(g(!0),y(z,null,E(t(s).openings,(a,u)=>(g(),y("div",{key:u,class:"bg-white dark:bg-slate-900 p-2 md:p-4 border rounded-xl hover:shadow-2xl hover:shadow-slate-100 dark:hover:shadow-slate-800 transition-all hover:z-10"},[e("div",We,[e("div",Ze,[n(le,{modelValue:t(s).openings[u].type,"onUpdate:modelValue":m=>t(s).openings[u].type=m,class:"h-9 block text-sm"},{default:c(()=>[n(ae,{class:"h-9 shadow-sm text-sm"},{default:c(()=>[n(oe,{placeholder:"Выберите проем",class:"text-sm"})]),_:1}),n(re,null,{default:c(()=>[(g(!0),y(z,null,E(t(s).openingTypes,(m,w)=>(g(),$(ne,{key:w,value:w,class:"text-sm"},{default:c(()=>[G(_(m),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),n(j,{variant:"outline",size:"icon",onClick:m=>t(s).removeOpening(u),class:"shrink-0"},{default:c(()=>[n(t(He),{class:"size-4"})]),_:2},1032,["onClick"])]),e("div",Je,[e("div",et,[e("img",{src:t(s).opening_images[a.type],class:"w-full rounded-md mt-2 md:mt-4"},null,8,tt)]),e("div",null,[l[3]||(l[3]=e("label",{class:"text-center my-1 text-muted-foreground text-xs md:text-sm block"},"Размеры (ШxВ) в мм:",-1)),e("div",st,[n(H,{modelValue:t(s).openings[u].width,"onUpdate:modelValue":m=>t(s).openings[u].width=m,type:"number",max:"12800",placeholder:"Ширина",class:"h-9 text-center"},null,8,["modelValue","onUpdate:modelValue"]),l[1]||(l[1]=e("span",{class:"inline-block text-sm"},"✕",-1)),n(H,{modelValue:t(s).openings[u].height,"onUpdate:modelValue":m=>t(s).openings[u].height=m,type:"number",placeholder:"Высота",class:"h-9 text-center"},null,8,["modelValue","onUpdate:modelValue"])]),e("div",lt,[l[2]||(l[2]=e("label",{class:"text-center mb-1 text-muted-foreground text-xs md:text-sm block"},"Кол-во створок:",-1)),n(de,{modelValue:a.doors,"onUpdate:modelValue":m=>a.doors=m,min:t(D)(t(s).openings[u].type).min,max:t(D)(t(s).openings[u].type).max,step:t(D)(t(s).openings[u].type).step},null,8,["modelValue","onUpdate:modelValue","min","max","step"])])])])]))),128)),e("button",{class:"p-2 md:p-4 border-4 border-dashed rounded-xl text-center flex items-center justify-center hover:border-black hover:dark:border-white transition-all text-gray-300 dark:text-gray-600 font-bold text-xl hover:text-black hover:dark:text-white",onClick:l[0]||(l[0]=(...a)=>t(s).addOpening&&t(s).addOpening(...a))},[e("div",at,[n(t(Ee),{class:"size-12"}),l[4]||(l[4]=e("span",{class:"block"},"Добавить проем",-1))])])])]))}}),C=p=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0,maximumFractionDigits:0}).format(p),ot={class:"border p-2 md:p-4 rounded-2xl"},rt={class:"flex items-center"},dt={class:"text-center font-bold text-lg text-primary font-mono"},it=["src"],ct={class:"text-center text-sm sm:text-base py-2"},ut={class:"flex items-center justify-between"},pt={class:"flex flex-col items-center justify-between text-xs sm:text-xs"},mt={class:"font-bold text-muted-foreground text-sm"},ft={class:"flex flex-col items-center justify-between text-xs sm:text-xs"},gt={class:"font-bold text-muted-foreground text-sm"},ht={class:"text-center pt-2"},_t={class:"font-bold"},xt=v({__name:"Items",setup(p){const s=T(),r=L(!1);return(d,l)=>(g(),y("div",ot,[e("div",rt,[l[1]||(l[1]=e("h2",{class:"text-xl font-bold text-muted-foreground"},"Авторасчет",-1)),n(j,{variant:"outline",size:"icon",class:"ml-auto rounded-lg",onClick:l[0]||(l[0]=a=>r.value=!r.value)},{default:c(()=>[r.value?(g(),$(t(Te),{key:1,class:"size-6"})):(g(),$(t(Fe),{key:0,class:"size-6"}))]),_:1})]),e("div",{class:J([r.value?"hidden":"","grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2 md:gap-4 mt-4 transition-all duration-1000"])},[(g(!0),y(z,null,E(t(s).items,a=>{var u,m;return g(),y("div",{key:a.id,class:"flex flex-col justify-between gap-2 bg-white dark:bg-slate-900 p-2 md:p-4 border rounded-xl hover:shadow-2xl hover:shadow-slate-100 dark:hover:shadow-slate-800 transition-all hover:z-10"},[e("div",dt,_(a.vendor_code),1),e("div",null,[e("img",{src:t(s).base_url+a.img,class:"rounded-md w-full"},null,8,it)]),e("div",null,[e("div",ct,[e("span",null,_(a.name),1)]),e("div",ut,[e("div",pt,[l[2]||(l[2]=e("span",{class:"text-muted-foreground"},"Цена:",-1)),e("span",mt,_(t(C)(a.retail_price))+"/"+_(a.unit),1)]),e("div",ft,[l[3]||(l[3]=e("span",{class:"text-muted-foreground"},"Кол-во:",-1)),e("span",gt,_(((u=t(s).cartItems[a.id])==null?void 0:u.quantity)??0)+" "+_(a.unit),1)])]),e("div",ht,[e("span",_t,_(t(C)((((m=t(s).cartItems[a.id])==null?void 0:m.quantity)??0)*a.retail_price)),1)])])])}),128))],2)]))}}),yt={class:"border p-2 md:p-4 rounded-2xl"},vt={class:"grid grid-cols-1 md:grid-cols-2 gap-2 md:gap-4"},bt={class:"mt-4 flex flex-col md:flex-row gap-2 md:gap-4 justify-between p-2 md:p-4 bg-white dark:bg-slate-900 border rounded-xl hover:shadow-2xl hover:shadow-slate-100 dark:hover:shadow-slate-800 transition-all hover:z-10"},wt={class:"basis-1/3 order-2 md:order-1"},kt=["src"],$t={class:"flex-1 basis-2/3 overflow-hidden order-1 md:order-2"},Lt={class:"flex justify-between items-center text-muted-foreground my-1 md:my-2"},Vt={class:"font-bold text-primary"},It={class:"flex justify-between items-center text-muted-foreground my-1 md:my-2"},zt={class:"font-bold text-primary"},jt={class:"mt-4 p-2 md:p-4 bg-white dark:bg-slate-900 border rounded-xl hover:shadow-2xl hover:shadow-slate-100 dark:hover:shadow-slate-800 transition-all hover:z-10"},Mt={class:"flex items-center justify-between gap-2 md:gap-4 border-b pb-1"},Ct={class:"flex items-center gap-2 md:gap-4"},St={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-2 md:gap-4 mt-4 transition-all duration-1000"},Bt={class:"font-medium mb-2 md:mb-4"},Pt={class:"flex flex-row gap-2 md:gap-4"},Ut={class:"basis-1/3"},qt=["src"],Et={class:"basis-2/3 flex flex-col justify-between gap-2"},Ot={class:"flex justify-between items-center text-sm text-muted-foreground"},Tt={class:"font-bold text-primary"},Ft={class:"flex justify-between items-center text-sm text-muted-foreground"},Dt={class:"font-bold text-primary"},Rt=v({__name:"Additionals",setup(p){const s=T();L(s.cartItems);const r=L(s.glasses[0].id);return(d,l)=>(g(),y("div",yt,[l[9]||(l[9]=e("div",{class:"flex items-center"},[e("h2",{class:"text-xl font-bold text-muted-foreground"},"Детали")],-1)),e("div",vt,[e("div",bt,[e("div",wt,[e("img",{src:t(s).glasses[0].img,class:"rounded-md w-full"},null,8,kt)]),e("div",$t,[n(le,{modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=a=>r.value=a)},{default:c(()=>[n(ae,null,{default:c(()=>[n(oe,{placeholder:"Выберите стекло"})]),_:1}),n(re,{class:"max-w-xs sm:max-w-max"},{default:c(()=>[(g(!0),y(z,null,E(t(s).glasses,a=>(g(),$(ne,{value:a.id},{default:c(()=>[G(_(a.name),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1},8,["modelValue"]),e("div",null,[e("div",Lt,[l[1]||(l[1]=e("span",null,"Цена:",-1)),e("span",Vt,_(t(C)(t(s).glasses[0].retail_price))+"/"+_(t(s).glasses[0].unit),1)]),e("div",It,[l[2]||(l[2]=e("span",null,"Кол-во:",-1)),e("span",zt,_(0)+" "+_(t(s).glasses[0].unit),1)]),l[3]||(l[3]=e("div",{class:"flex justify-between items-center text-muted-foreground my-1 md:my-2"},[e("span",null,"Итого:"),e("span",{class:"font-bold text-primary"},_(1231230))],-1))])])]),e("div",jt,[l[6]||(l[6]=e("div",{class:"flex items-center justify-between gap-2 md:gap-4 mb-2 md:mb-4"},[e("span",{class:"font-medium"},"Выбранные услуги")],-1)),e("div",Mt,[l[5]||(l[5]=e("span",null,"Покраска",-1)),e("div",Ct,[l[4]||(l[4]=e("span",{class:"font-bold text-primary"},"1238 руб",-1)),n(j,{variant:"outline",size:"icon",class:"size-6 rounded-sm"},{default:c(()=>[n(t(Ie),{class:"size-4"})]),_:1})])])])]),e("div",St,[(g(!0),y(z,null,E(t(s).additional_items,a=>(g(),y("div",{key:a.vendor_code,class:"flex flex-col justify-between p-2 md:p-4 bg-white dark:bg-slate-900 border rounded-xl hover:shadow-2xl hover:shadow-slate-100 dark:hover:shadow-slate-800 transition-all hover:z-10"},[e("p",Bt,[e("span",null,_(a.vendor_code?a.vendor_code+" - ":"")+" "+_(a.name),1)]),e("div",Pt,[e("div",Ut,[e("img",{src:a.img,class:"rounded-md w-full"},null,8,qt)]),e("div",Et,[e("div",Ot,[l[7]||(l[7]=e("span",null,"Цена:",-1)),e("span",Tt,_(t(C)(a.retail_price))+"/"+_(a.unit),1)]),e("div",Ft,[l[8]||(l[8]=e("span",null,"Итого:",-1)),e("span",Dt,_(t(C)(a.retail_price*t(s).cartItems[a.id].quantity)),1)]),n(de,{min:0,max:100,step:1,modelValue:t(s).cartItems[a.id].quantity,"onUpdate:modelValue":u=>t(s).cartItems[a.id].quantity=u},null,8,["modelValue","onUpdate:modelValue"])])])]))),128))])]))}}),Nt={class:"z-20 fixed bottom-0 sm:bottom-2 left-1/2 w-full max-w-96 transform -translate-x-1/2 bg-white dark:bg-slate-900 p-2 px-4 sm:p-4 border sm:rounded-xl md:rounded-2xl shadow-sm"},At={class:"flex items-center justify-between"},Ht={class:"font-bold text-xl text-primary"},Gt={class:"flex gap-2 md:gap-4 items-center"},Qt=v({__name:"OrderActions",setup(p){const s=T();return(r,d)=>(g(),y(z,null,[d[5]||(d[5]=e("div",{class:"h-6 md:h-10"},null,-1)),e("div",Nt,[e("div",At,[e("span",Ht,_(t(C)(t(s).total_price)),1),e("div",Gt,[n(ze,null,{default:c(()=>[n(je,null,{default:c(()=>[n(j,{variant:"outline",size:"icon"},{default:c(()=>[n(t(Oe))]),_:1})]),_:1}),n(Me,null,{default:c(()=>[n(Ce,null,{default:c(()=>d[1]||(d[1]=[G("Действия")])),_:1}),n(Se),n(K,{onClick:d[0]||(d[0]=l=>console.log("clicked"))},{default:c(()=>[n(t(Ne),{class:"size-4"}),d[2]||(d[2]=e("span",null,"Печать КП",-1))]),_:1}),n(K,null,{default:c(()=>[n(t(Ae),{class:"size-4"}),d[3]||(d[3]=e("span",null,"Перечень",-1))]),_:1})]),_:1})]),_:1}),n(j,null,{default:c(()=>[d[4]||(d[4]=e("span",{class:"text-base"},"Заказать",-1)),n(t(Pe),{class:"size-4"})]),_:1})])])])],64))}}),Yt={class:"container p-4 rounded-xl"},Kt={class:""},es=v({__name:"Calculator",setup(p){const s=T();return s.items=F().props.items,s.base_url=F().props.base_url,s.additional_items=F().props.additional_items,s.glasses=F().props.glasses,s.initiateCartItems(),s.calculate(),(r,d)=>(g(),y(z,null,[n(t(fe),{title:"Калькулятор"}),n(Be),e("div",Yt,[d[0]||(d[0]=e("h1",{class:"text-2xl font-bold"},"Калькулятор",-1)),e("div",Kt,[n(nt,{class:"mb-8"}),n(Rt,{class:"mb-8"}),n(xt,{class:"mb-8"})])]),n(Qt)],64))}});export{es as default};
