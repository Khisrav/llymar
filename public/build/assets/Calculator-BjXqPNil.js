import{d as te,r as V,a as b,o as m,c as k,w as p,b as z,n as se,g as le,u as e,e as M,f as n,m as U,h as t,i as ae,j as _e,k as xe,l as y,t as _,p as Q,F as j,q as P,s as X,Q as R,Z as ye}from"./app-3aIlhNoF.js";import{x as W,k as ve,I as A,X as be,c as S,M as we,K as ke,j as $e,z as Ve,q as Le,G as Ie,Y as je,U as ze,F as Ce,V as Se,_ as q,a as Me,b as Be}from"./Button.vue_vue_type_script_setup_true_lang-D1fqIo8G.js";import{c as w,_ as Pe,a as qe,b as Ue,d as Ee,e as ee,f as Oe,g as De}from"./AuthenticatedHeaderLayout.vue_vue_type_script_setup_true_lang-C7RRfKpM.js";import{_ as Y}from"./Input.vue_vue_type_script_setup_true_lang-DgvYnAgE.js";/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=w("ArrowRightIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=w("CheckIcon",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=w("ChevronDownIcon",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=w("ChevronUpIcon",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=w("CirclePlusIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=w("EllipsisVerticalIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=w("EyeOffIcon",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=w("EyeIcon",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=w("MinusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=w("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=w("PrinterIcon",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=w("ScrollTextIcon",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-vue-next v0.465.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=w("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),re=te("openingStore",()=>{const u={left:"Левый проем",right:"Правый проем",center:"Центральный проем","inner-left":"Входная группа левая","inner-right":"Входная группа правая"},s={left:"https://llymar.ru/assets/openings-left.jpg",right:"https://llymar.ru/assets/openings-right.jpg",center:"https://llymar.ru/assets/openings-center.jpg","inner-left":"https://llymar.ru/assets/openings-inner-left.jpg","inner-right":"https://llymar.ru/assets/openings-inner-right.jpg","blind-glazing":"https://llymar.ru/assets/openings-blind-glazing.jpg",triangle:"https://llymar.ru/assets/openings-triangle.jpg"},r=V([{doors:2,width:3e3,height:2700,type:"left"}]);return{openingTypes:u,opening_images:s,openings:r,addOpening:()=>{r.value.push({doors:2,width:3e3,height:2700,type:"left"})},removeOpening:d=>{r.value.splice(d,1)}}}),de=b({__name:"Select",props:{open:{type:Boolean},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{},dir:{},name:{},autocomplete:{},disabled:{type:Boolean},required:{type:Boolean}},emits:["update:modelValue","update:open"],setup(u,{emit:s}){const l=W(u,s);return(d,c)=>(m(),k(e(ve),se(le(e(l))),{default:p(()=>[z(d.$slots,"default")]),_:3},16))}}),ie=b({__name:"SelectTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(u){const s=u,r=M(()=>{const{class:l,...d}=s;return d}),a=A(r);return(l,d)=>(m(),k(e(we),U(e(a),{class:e(S)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:truncate text-start",s.class)}),{default:p(()=>[z(l.$slots,"default"),n(e(be),{"as-child":""},{default:p(()=>[n(e(oe),{class:"w-4 h-4 opacity-50 shrink-0"})]),_:1})]),_:3},16,["class"]))}}),We={class:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center"},ce=b({__name:"SelectItem",props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},setup(u){const s=u,r=M(()=>{const{class:l,...d}=s;return d}),a=A(r);return(l,d)=>(m(),k(e(Ve),U(e(a),{class:e(S)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s.class)}),{default:p(()=>[t("span",We,[n(e(ke),null,{default:p(()=>[n(e(ne),{class:"h-4 w-4"})]),_:1})]),n(e($e),null,{default:p(()=>[z(l.$slots,"default")]),_:3})]),_:3},16,["class"]))}}),Ze=b({__name:"SelectScrollDownButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(u){const s=u,r=M(()=>{const{class:l,...d}=s;return d}),a=A(r);return(l,d)=>(m(),k(e(Le),U(e(a),{class:e(S)("flex cursor-default items-center justify-center py-1",s.class)}),{default:p(()=>[z(l.$slots,"default",{},()=>[n(e(oe),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),Je=b({__name:"SelectScrollUpButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(u){const s=u,r=M(()=>{const{class:l,...d}=s;return d}),a=A(r);return(l,d)=>(m(),k(e(Ie),U(e(a),{class:e(S)("flex cursor-default items-center justify-center py-1",s.class)}),{default:p(()=>[z(l.$slots,"default",{},()=>[n(e(Fe),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),ue=b({__name:"SelectValue",props:{placeholder:{},asChild:{type:Boolean},as:{}},setup(u){const s=u;return(r,a)=>(m(),k(e(je),se(le(s)),{default:p(()=>[z(r.$slots,"default")]),_:3},16))}}),pe=b({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean},position:{default:"popper"},bodyLock:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(u,{emit:s}){const r=u,a=s,l=M(()=>{const{class:c,...f}=r;return f}),d=W(l,a);return(c,f)=>(m(),k(e(Se),null,{default:p(()=>[n(e(Ce),U({...e(d),...c.$attrs},{class:e(S)("relative z-50 max-h-96 min-w-32 overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",c.position==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r.class)}),{default:p(()=>[n(e(Je)),n(e(ze),{class:ae(e(S)("p-1",c.position==="popper"&&"h-[--radix-select-trigger-height] w-full min-w-[--radix-select-trigger-width]"))},{default:p(()=>[z(c.$slots,"default")]),_:3},8,["class"]),n(e(Ze))]),_:3},16,["class"])]),_:3}))}}),N=u=>{switch(u){case"left":case"right":return{min:2,max:8,step:1};case"center":return{min:4,max:10,step:2};case"inner-left":case"inner-right":return{min:3,max:3,step:1};default:return{min:1,max:1/0,step:1}}},et={class:"flex items-center justify-between gap-2 rounded-md"},me=b({__name:"QuantitySelector",props:_e({min:{},max:{},step:{}},{modelValue:{default:0},modelModifiers:{}}),emits:["update:modelValue"],setup(u){const s=u,r=xe(u,"modelValue"),a=()=>{r.value<s.max&&(r.value+=s.step)},l=()=>{r.value>s.min&&(r.value-=s.step)};return(d,c)=>(m(),y("div",et,[n(q,{variant:"outline",disabled:r.value<=s.min,class:"rounded-full",size:"icon",onClick:l},{default:p(()=>[n(e(He))]),_:1},8,["disabled"]),n(Y,{modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=f=>r.value=f),class:"hidden",type:"number"},null,8,["modelValue"]),t("span",null,_(r.value)+" шт.",1),n(q,{variant:"outline",disabled:r.value>=s.max,class:"rounded-full",size:"icon",onClick:a},{default:p(()=>[n(e(Qe))]),_:1},8,["disabled"])]))}}),G=te("itemsStore",()=>{const u=re(),s=V([]),r=V([]),a=V([]),l=V([]),d=V(""),c=V({}),f=V([]),L=V(369);Q(L,(v,x)=>{c.value[v]={quantity:u.openings.reduce((h,{width:$,height:i})=>h+$*i,0)/1e6},J()});const E=["left","right"],O=["inner-left","inner-right"],B=["center"],fe=()=>{[...s.value,...r.value].forEach(x=>{c.value[x.id]={quantity:0}})},I=v=>{var h;const x=s.value.find($=>$.vendor_code===v);return((h=c.value[x==null?void 0:x.id])==null?void 0:h.quantity)||0},Z=(v,x,h)=>{var i,o;return((o=(i={left:{L1:{2:0,3:1,4:0,5:1,6:2,7:1,8:2},L3:{2:1,3:0,4:2,5:1,6:0,7:2,8:1}},right:{L1:{2:0,3:1,4:0,5:1,6:2,7:1,8:2},L3:{2:1,3:0,4:2,5:1,6:0,7:2,8:1}},center:{L1:{4:0,6:1,8:0,10:1},L3:{4:1,6:0,8:2,10:1}},"inner-left":{L1:{3:0},L3:{3:1}},"inner-right":{L1:{3:0},L3:{3:1}}}[h])==null?void 0:i[v])==null?void 0:o[x])??0},ge=v=>{const{vendor_code:x}=v,h=u.openings,$={L1:()=>h.reduce((i,{type:o,width:g,doors:H})=>{let D,T,F;return D=Math.floor(g/1e3/3)*3,T=Z(x,H,o),F=g%3?3:0,i+D*T+F},0),L2:()=>I("L1"),L3:()=>h.reduce((i,{type:o,width:g,doors:H})=>{let D,T,F;return D=Math.floor(g/1e3/3)*3,T=Z(x,H,o),F=g%3?3:0,i+D*T+F},0),L4:()=>I("L3"),L5:()=>Math.ceil((h.reduce((i,{width:o})=>i+o-1800,0)-1800)/1e3)+3,L6:()=>h.length*6,L8:()=>h.reduce((i,{type:o,doors:g})=>E.includes(o)?i+(g*2-2):B.includes(o)?i+(g*2-4):O.includes(o)?i+2:i,0),L9:()=>h.reduce((i,{type:o})=>i+([...B,...O].includes(o)?1:0),0),L12:()=>I("L9")*9+I("L2")*6+I("L4")*4,L13:()=>I("L8")*3+I("L5")*2,L14:()=>I("L6")*2,L15:()=>h.reduce((i,{type:o,doors:g})=>i+(o==="right"?g-1:0)+(B.includes(o)?g/2-1:0)+(o==="inner-right"?1:0),0),L16:()=>h.reduce((i,{type:o,doors:g})=>i+(B.includes(o)?g/2:0)+(o==="left"?1:0)+(o==="right"?g:0)+(o==="inner-left"?1:0)+(o==="inner-right"?2:0),0),L17:()=>h.reduce((i,{type:o})=>i+([...B,...O].includes(o)?1:0),0),L18:()=>h.reduce((i,{type:o,doors:g})=>i+(o==="left"?g-1:0)+(B.includes(o)?g/2-1:0)+(o==="inner-left"?1:0),0),L19:()=>h.reduce((i,{type:o,doors:g})=>i+(o==="left"?g:0)+(o==="right"?1:0)+(o==="center"?g/2:0)+(o==="inner-left"?2:0)+(o==="inner-right"?1:0),0),L20:()=>h.reduce((i,{type:o})=>i+(o==="center"?1:0)+(O.includes(o)?1:0),0),L21:()=>h.reduce((i,{type:o,doors:g})=>i+(o==="center"?g-2:0)+(E.includes(o)?g-1:0)+(O.includes(o)?1:0),0),L22:()=>h.reduce((i,{type:o,doors:g})=>i+(o==="center"?g-4:0)+(E.includes(o)?g-2:0),0),L26:()=>h.reduce((i,{doors:o})=>i+o*2,0)};return $[x]?$[x]():0},J=()=>{s.value.forEach(v=>{const x=ge(v);c.value[v.id]={quantity:x}})},he=M(()=>{let v=0;return[...s.value,...r.value].forEach(h=>{var i;const $=((i=c.value[h.id])==null?void 0:i.quantity)||0;$>0&&(v+=h.retail_price*$)}),v});return{items:s,glasses:a,services:l,selectedGlassID:L,selectedServicesID:f,additional_items:r,base_url:d,cartItems:c,total_price:he,calculate:J,initiateCartItems:fe}}),tt={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2 md:gap-4"},st={class:"flex justify-between items-center gap-2"},lt={class:"flex-1 overflow-hidden"},at={class:"grid grid-cols-1 md:grid-cols-1 gap-2"},nt={class:"flex items-center"},ot=["src"],rt={class:"flex items-center gap-2"},dt={class:"gap-2 mt-2"},it={class:"text-center flex flex-col items-center gap-2 p-6"},ct=b({__name:"Openings",setup(u){const s=re(),r=G();return Q(()=>s.openings,a=>{a.forEach(l=>{Q(()=>l.type,(d,c)=>{const{min:f,max:L,step:E}=N(d);l.doors<f||l.doors%E?l.doors=f:l.doors>L&&(l.doors=L)},{immediate:!0})}),r.calculate()},{deep:!0}),(a,l)=>(m(),y("div",null,[l[5]||(l[5]=t("h2",{class:"text-xl font-bold text-muted-foreground mb-4"},"Проемы",-1)),t("div",tt,[(m(!0),y(j,null,P(e(s).openings,(d,c)=>(m(),y("div",{key:c,class:"bg-white dark:bg-slate-900 p-2 md:p-4 border rounded-xl hover:shadow-2xl hover:shadow-slate-100 dark:hover:shadow-slate-800 transition-all hover:z-10"},[t("div",st,[t("div",lt,[n(de,{modelValue:e(s).openings[c].type,"onUpdate:modelValue":f=>e(s).openings[c].type=f,class:"h-9 block text-sm"},{default:p(()=>[n(ie,{class:"h-9 shadow-sm text-sm"},{default:p(()=>[n(ue,{placeholder:"Выберите проем",class:"text-sm"})]),_:1}),n(pe,null,{default:p(()=>[(m(!0),y(j,null,P(e(s).openingTypes,(f,L)=>(m(),k(ce,{key:L,value:L,class:"text-sm"},{default:p(()=>[X(_(f),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),n(q,{variant:"outline",size:"icon",onClick:f=>e(s).removeOpening(c),class:"shrink-0"},{default:p(()=>[n(e(Xe),{class:"size-4"})]),_:2},1032,["onClick"])]),t("div",at,[t("div",nt,[t("img",{src:e(s).opening_images[d.type],class:"w-full rounded-md mt-2 md:mt-4"},null,8,ot)]),t("div",null,[l[3]||(l[3]=t("label",{class:"text-center my-1 text-muted-foreground text-xs md:text-sm block"},"Размеры (ШxВ) в мм:",-1)),t("div",rt,[n(Y,{modelValue:e(s).openings[c].width,"onUpdate:modelValue":f=>e(s).openings[c].width=f,type:"number",max:"12800",placeholder:"Ширина",class:"h-9 text-center"},null,8,["modelValue","onUpdate:modelValue"]),l[1]||(l[1]=t("span",{class:"inline-block text-sm"},"✕",-1)),n(Y,{modelValue:e(s).openings[c].height,"onUpdate:modelValue":f=>e(s).openings[c].height=f,type:"number",placeholder:"Высота",class:"h-9 text-center"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",dt,[l[2]||(l[2]=t("label",{class:"text-center mb-1 text-muted-foreground text-xs md:text-sm block"},"Кол-во створок:",-1)),n(me,{modelValue:d.doors,"onUpdate:modelValue":f=>d.doors=f,min:e(N)(e(s).openings[c].type).min,max:e(N)(e(s).openings[c].type).max,step:e(N)(e(s).openings[c].type).step},null,8,["modelValue","onUpdate:modelValue","min","max","step"])])])])]))),128)),t("button",{class:"p-2 md:p-4 border-4 border-dashed rounded-xl text-center flex items-center justify-center hover:border-black hover:dark:border-white transition-all text-gray-300 dark:text-gray-600 font-bold text-xl hover:text-black hover:dark:text-white",onClick:l[0]||(l[0]=(...d)=>e(s).addOpening&&e(s).addOpening(...d))},[t("div",it,[n(e(Re),{class:"size-12"}),l[4]||(l[4]=t("span",{class:"block"},"Добавить проем",-1))])])])]))}}),C=u=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0,maximumFractionDigits:0}).format(u),K=u=>`/storage${u}`,ut={class:"border p-2 md:p-4 rounded-2xl"},pt={class:"flex items-center"},mt={class:"text-center font-bold text-lg text-primary font-mono"},ft=["src"],gt={class:"text-center text-sm sm:text-base py-2"},ht={class:"flex items-center justify-between"},_t={class:"flex flex-col items-center justify-between text-xs sm:text-xs"},xt={class:"font-bold text-muted-foreground text-sm"},yt={class:"flex flex-col items-center justify-between text-xs sm:text-xs"},vt={class:"font-bold text-muted-foreground text-sm"},bt={class:"text-center pt-2"},wt={class:"font-bold"},kt=b({__name:"Items",setup(u){const s=G(),r=V(!1);return(a,l)=>(m(),y("div",ut,[t("div",pt,[l[1]||(l[1]=t("h2",{class:"text-xl font-bold text-muted-foreground"},"Авторасчет",-1)),n(q,{variant:"outline",size:"icon",class:"ml-auto rounded-lg",onClick:l[0]||(l[0]=d=>r.value=!r.value)},{default:p(()=>[r.value?(m(),k(e(Ne),{key:1,class:"size-6"})):(m(),k(e(Ae),{key:0,class:"size-6"}))]),_:1})]),t("div",{class:ae([r.value?"hidden":"","grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2 md:gap-4 mt-4 transition-all duration-1000"])},[(m(!0),y(j,null,P(e(s).items,d=>{var c,f;return m(),y("div",{key:d.id,class:"flex flex-col justify-between gap-2 bg-white dark:bg-slate-900 p-2 md:p-4 border rounded-xl hover:shadow-2xl hover:shadow-slate-100 dark:hover:shadow-slate-800 transition-all hover:z-10"},[t("div",mt,_(d.vendor_code),1),t("div",null,[t("img",{src:e(K)(d.img),class:"rounded-md w-full"},null,8,ft)]),t("div",null,[t("div",gt,[t("span",null,_(d.name),1)]),t("div",ht,[t("div",_t,[l[2]||(l[2]=t("span",{class:"text-muted-foreground"},"Цена:",-1)),t("span",xt,_(e(C)(d.retail_price))+"/"+_(d.unit),1)]),t("div",yt,[l[3]||(l[3]=t("span",{class:"text-muted-foreground"},"Кол-во:",-1)),t("span",vt,_(((c=e(s).cartItems[d.id])==null?void 0:c.quantity)??0)+" "+_(d.unit),1)])]),t("div",bt,[t("span",wt,_(e(C)((((f=e(s).cartItems[d.id])==null?void 0:f.quantity)??0)*d.retail_price)),1)])])])}),128))],2)]))}}),$t=b({__name:"Checkbox",props:{defaultChecked:{type:Boolean},checked:{type:[Boolean,String]},disabled:{type:Boolean},required:{type:Boolean},name:{},value:{},id:{},asChild:{type:Boolean},as:{},class:{}},emits:["update:checked"],setup(u,{emit:s}){const r=u,a=s,l=M(()=>{const{class:c,...f}=r;return f}),d=W(l,a);return(c,f)=>(m(),k(e(Be),U(e(d),{class:e(S)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r.class)}),{default:p(()=>[n(e(Me),{class:"flex h-full w-full items-center justify-center text-current"},{default:p(()=>[z(c.$slots,"default",{},()=>[n(e(ne),{class:"h-4 w-4"})])]),_:3})]),_:3},16,["class"]))}}),Vt={class:"border p-2 md:p-4 rounded-2xl"},Lt={class:"grid grid-cols-1 md:grid-cols-2 gap-2 md:gap-4"},It={class:"mt-4 flex flex-col md:flex-row gap-2 md:gap-4 justify-between p-2 md:p-4 bg-white dark:bg-slate-900 border rounded-xl hover:shadow-2xl hover:shadow-slate-100 dark:hover:shadow-slate-800 transition-all hover:z-10"},jt={class:"basis-1/3 order-2 md:order-1"},zt=["src"],Ct={class:"flex-1 basis-2/3 overflow-hidden order-1 md:order-2"},St={class:"flex justify-between items-center text-muted-foreground my-1 md:my-2"},Mt={class:"font-bold text-primary"},Bt={class:"flex justify-between items-center text-muted-foreground my-1 md:my-2"},Pt={class:"font-bold text-primary"},qt={class:"mt-4 p-2 md:p-4 bg-white dark:bg-slate-900 border rounded-xl hover:shadow-2xl hover:shadow-slate-100 dark:hover:shadow-slate-800 transition-all hover:z-10"},Ut={class:"flex items-center justify-between gap-2 md:gap-4 border-b pb-1"},Et={class:"flex items-center gap-2 md:gap-4"},Ot={class:"font-bold text-primary"},Dt={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-2 md:gap-4 mt-4 transition-all duration-1000"},Tt={class:"font-medium mb-2 md:mb-4"},Ft={class:"flex flex-row gap-2 md:gap-4"},Rt={class:"basis-1/3"},Gt=["src"],Nt={class:"basis-2/3 flex flex-col justify-between gap-2"},At={class:"flex justify-between items-center text-sm text-muted-foreground"},Ht={class:"font-bold text-primary"},Qt={class:"flex justify-between items-center text-sm text-muted-foreground"},Yt={class:"font-bold text-primary"},Kt=b({__name:"Additionals",setup(u){const s=G();return(r,a)=>(m(),y("div",Vt,[a[7]||(a[7]=t("div",{class:"flex items-center"},[t("h2",{class:"text-xl font-bold text-muted-foreground"},"Детали")],-1)),t("div",Lt,[t("div",It,[t("div",jt,[t("img",{src:e(K)(e(s).glasses[0].img),class:"rounded-md w-full"},null,8,zt)]),t("div",Ct,[n(de,{modelValue:e(s).selectedGlassID,"onUpdate:modelValue":a[0]||(a[0]=l=>e(s).selectedGlassID=l)},{default:p(()=>[n(ie,null,{default:p(()=>[n(ue,{placeholder:"Выберите стекло"})]),_:1}),n(pe,{class:"max-w-xs sm:max-w-max"},{default:p(()=>[(m(!0),y(j,null,P(e(s).glasses,l=>(m(),k(ce,{value:l.id},{default:p(()=>[X(_(l.name),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1},8,["modelValue"]),t("div",null,[t("div",St,[a[1]||(a[1]=t("span",null,"Цена:",-1)),t("span",Mt,_(e(C)(e(s).glasses[0].retail_price))+"/"+_(e(s).glasses[0].unit),1)]),t("div",Bt,[a[2]||(a[2]=t("span",null,"Кол-во:",-1)),t("span",Pt,_(0)+" "+_(e(s).glasses[0].unit),1)]),a[3]||(a[3]=t("div",{class:"flex justify-between items-center text-muted-foreground my-1 md:my-2"},[t("span",null,"Итого:"),t("span",{class:"font-bold text-primary"},_(1231230))],-1))])])]),t("div",qt,[a[4]||(a[4]=t("div",{class:"flex items-center justify-between gap-2 md:gap-4 mb-2 md:mb-4"},[t("span",{class:"font-semibold"},"Выбранные услуги")],-1)),(m(!0),y(j,null,P(e(s).services,l=>(m(),y("div",Ut,[t("span",null,_(l.name),1),t("div",Et,[t("span",Ot,_(e(C)(l.retail_price)),1),n($t)])]))),256))])]),t("div",Dt,[(m(!0),y(j,null,P(e(s).additional_items,l=>(m(),y("div",{key:l.vendor_code,class:"flex flex-col justify-between p-2 md:p-4 bg-white dark:bg-slate-900 border rounded-xl hover:shadow-2xl hover:shadow-slate-100 dark:hover:shadow-slate-800 transition-all hover:z-10"},[t("p",Tt,[t("span",null,_(l.vendor_code?l.vendor_code+" - ":"")+" "+_(l.name),1)]),t("div",Ft,[t("div",Rt,[t("img",{src:e(K)(l.img),class:"rounded-md w-full"},null,8,Gt)]),t("div",Nt,[t("div",At,[a[5]||(a[5]=t("span",null,"Цена:",-1)),t("span",Ht,_(e(C)(l.retail_price))+"/"+_(l.unit),1)]),t("div",Qt,[a[6]||(a[6]=t("span",null,"Итого:",-1)),t("span",Yt,_(e(C)(l.retail_price*e(s).cartItems[l.id].quantity)),1)]),n(me,{min:0,max:100,step:1,modelValue:e(s).cartItems[l.id].quantity,"onUpdate:modelValue":d=>e(s).cartItems[l.id].quantity=d},null,8,["modelValue","onUpdate:modelValue"])])])]))),128))])]))}}),Xt={class:"z-20 fixed bottom-0 sm:bottom-2 left-1/2 w-full max-w-96 transform -translate-x-1/2 bg-white dark:bg-slate-900 p-2 px-4 sm:p-4 border sm:rounded-xl md:rounded-2xl shadow-sm"},Wt={class:"flex items-center justify-between"},Zt={class:"font-bold text-xl text-primary"},Jt={class:"flex gap-2 md:gap-4 items-center"},es=b({__name:"OrderActions",setup(u){const s=G();return(r,a)=>(m(),y(j,null,[a[5]||(a[5]=t("div",{class:"h-6 md:h-10"},null,-1)),t("div",Xt,[t("div",Wt,[t("span",Zt,_(e(C)(e(s).total_price)),1),t("div",Jt,[n(Oe,null,{default:p(()=>[n(Pe,null,{default:p(()=>[n(q,{variant:"outline",size:"icon"},{default:p(()=>[n(e(Ge))]),_:1})]),_:1}),n(qe,null,{default:p(()=>[n(Ue,null,{default:p(()=>a[1]||(a[1]=[X("Действия")])),_:1}),n(Ee),n(ee,{onClick:a[0]||(a[0]=l=>console.log("clicked"))},{default:p(()=>[n(e(Ye),{class:"size-4"}),a[2]||(a[2]=t("span",null,"Печать КП",-1))]),_:1}),n(ee,null,{default:p(()=>[n(e(Ke),{class:"size-4"}),a[3]||(a[3]=t("span",null,"Перечень",-1))]),_:1})]),_:1})]),_:1}),n(q,null,{default:p(()=>[a[4]||(a[4]=t("span",{class:"text-base"},"Заказать",-1)),n(e(Te),{class:"size-4"})]),_:1})])])])],64))}}),ts={class:"container p-4 rounded-xl"},ss={class:""},rs=b({__name:"Calculator",setup(u){const s=G();return s.items=R().props.items,s.base_url=R().props.base_url,s.additional_items=R().props.additional_items,s.glasses=R().props.glasses,s.services=R().props.services,s.initiateCartItems(),s.calculate(),(r,a)=>(m(),y(j,null,[n(e(ye),{title:"Калькулятор"}),n(De),t("div",ts,[a[0]||(a[0]=t("h1",{class:"text-2xl font-bold"},"Калькулятор",-1)),t("div",ss,[n(ct,{class:"mb-8"}),n(Kt,{class:"mb-8"}),n(kt,{class:"mb-8"})])]),n(es)],64))}});export{rs as default};
